const AWS = require('aws-sdk');
const {v4: uuid} = require('uuid');
const mysql = require('mysql');
const s3 = new AWS.S3();
const bucketName = process.env.S3_BUCKET_NAME;

exports.lambdaHandler = async (event, context) => {
    var con = mysql.createConnection({
        host: process.env.DatabaseAddress,
        user: "user",
        password: "Password1234",
        database: "databaseAmazonianPrime",
    });

    const connectionStatus = await new Promise((resolve, reject) => {
        con.connect(function (err) {
            if (err) {
                console.log(err);
                reject("Failed to connect to the database");
                //TO-DO: Need to figure out how to throw an error to primer function so that it rollsback the deployment
            }
            resolve("Connected to Database!");
        });
    });


    const listingID = 2;
    const listOfImages = [
        "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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP178h6Ks/wB5zJxkBYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7jh+irO24foudAtAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAe3jlmbp+j5yoLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADeaMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANhrwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/SfzaoLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB+oVfl4sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKFc7z0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUT0oUBToAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1O2wzTeWy8BiZYx/b6wz0xN3jnjibHzMHZavZHn9a/anz9ZOOfzX7zwPbZ6zZgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/8QAMBAAAgIBAgMGBAcBAQAAAAAAAgMBBAUAcBAREgYTFBUwUCAhkKAiMjNAYICwJDH/2gAIAQEAAQUC/wBkHCY8Lx5GuNW5vcpzUyZkwvpY9lVB3PatS4RvdWtOrFZtOslsVVoWbYEMiW2hoAaXvOKy3gUOZLnfbM1arrUtWamexYDGKthn8YqqvZSjX8VayVLwNj3TE5GaBXLE2rPsWKyZ0dZXJne2VEpAjYbS+thiiWvIdpXocf0pMVjq3gc9VCrd3up5mzUTZedlv+Eh2fxqLau0GNTUVvdisqdCMrlTvx9lupTGkayWXtWINa8j2kfXc/cLCZEKJ5e4N23/AGtxPlnlv0LIXM6TREhNSFarwqZlCdTUTOjx4zplNobyposYM4ueUoMTUrXdnpMEpOhiZmOcRxclbdWKZK3ixqIa+2MnPiJFUcuoYgYe3u4SzvBbX6pUoVx8V1Ud7vBhS5HadEcVWJCCLqmuXS34yKBGXAZW4WyN36/OC4gEmXhdBX6C+KS6YFneEQyBacG70RzmIgY4KraiIGPQmOepOBtWw+fAx6S3cQPz4Uxjp9Oa4TPRHRwePON3EJklJGCOFhHq9+vRNDp4THON24jnNT9HuBg4nnHpnPINAoj1KGRqQIY02OR7tK+Z1D+WuUcgDoH0i/8APDDMiMDDWQuJM3x4cYB36m7VQep9QOR+rc/IJyEja136p1D1DE2QmH/m3aqTysGXct8VobIlqJifTuFzL4Xfn95Cs5gbQDPSThhiuAlIzXZLB9Gwrrj4TnmfGk5ddnuqOjucx0eZbQUz667h6W8BOQlL5MvRtKiI4lPKPegsuWG0ONb0nbCefGqv5+jbmIVxeXy3cGZGUshqrCYgdVwgz9K0XNvCZ5QU9U7u039ycxBDMcpp+nbDkXBx894KVrp1aDpbTLkXpTHOCq/N5Sud4UWfwzHRIzzHgtRs0SmB8dq5+2Usmm/B21J2qiJmW12pj2BLjVKLiz4VKJM0AQA8tOQDRs0GL4utLVp9k3ft8W8a99+UqKTtV2Z6PMsz0eWexV7La5p7RMjQdoKha87o687o6PPUx1ezK3abYazcWJmJbYa6P5jdchqPt/cIhNm92gqV6jvvf4iZlqmKnd6tQtWVtWSj9bGOCte7Q3kXC3ewzltx/aNq25D6buBoLuuzeJrop73Yy+dB2SzB3E/37o1/FWslS8DY3uEpAjYbS/g9Fi02rzFutfQOQo3Nv419GN7qryrWMrlSvh/Y+1YrHR+qjZtHZX9d+LdTyH7hypVoFh/9kPLFIY16/ByeXUDE35dYxtzvJq3GjRZfNIvsOcptojsqewYm7Ngql5vcWL8grzEzl+UANVsjNl1+34ZsW3ddJ7E4+rYlp7uXUeJqRVaZxRMSLHkb1Y+FFFGfD3ajpq16pg5GNFVRmP51AxxCxVJw2GY78aqThfNGQKrV7h1qgVjTK/XZ8F/yVa0qPfH/xAAqEQACAQMDAgUEAwAAAAAAAAAAEgECAxEQIWAgMRRAQXCQBDCAoBMiMv/aAAgBAwEBPwH9ELHr+iJGI+GmCcfjZ6eWztwmPZ+u5FPc/njueKpIv0zzOvFMbly7JMzI8Y1t3qqSiuKozzDK7ldc1TmScepNUY6Igo23gonPL7k5nBM4gmZnppmC3OS3OJ5fVc3nrooyRiNKd45bX2K+/XTE42FnO5/b0KP88tqjMERkm2TGOm321o7edmMcRmFr0rxjpo76UxmeX37bRmCiS5O/Tb0t0Y35hctbtBcjfOiTjJjWzbnvVyGIzHkblqKi39NTE5qIiC5aprPCzkt2KafuROPn/mNvsZ974J/LOfmviM/Hqgggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggnvj/AP/EACoRAAICAgECBAcAAwAAAAAAAAASAQIDEQQhYBAgMZATIjBAQXCAMlGg/9oACAECAQE/Af8AhC311+vuv87zOiOvsHTv2aZ9CN6/mzrv7bXX90U+edQbqybPgSTjmO875FMNZzT1kpjrWyxPUpx7PufG+OLG43rvC8xFdlrTaTFN4n5THgyReLT5L5Ij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zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzfzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzw7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzyLzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzTzzzzzzzzzzzzzzzzzTzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzjbzzzzzzzzzzzzzzzzzzzzzzzzz7zzzzzzzzzzzzzzzzy57zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzjbzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzl7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzyvbzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzbzzzzzzzzzzzzzzzzzzzzx7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzrzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz/XDrzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzziRgTZ75zfzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzn2qr777h3Tzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzw3477776je7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzvlb77776ZOX7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz5y/77775kEJzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzyoVrb7775X31Tzzzzzzzzzzzzzzzzzzzzzzzzzzzx7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzxL8n7777vyr7zzzzzzzzzzzzzzzzzzzzzzzzzzzxzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzxtdX7777n0bzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzxxX7D778fzzzzzzzzzzvzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzw/zzzzzzzzzzzzzzzwzeLvQ/zzzzzzzzzzx7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzwzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzr7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzDzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzyvzzzzzzy7zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzy5/wA888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888+88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888c888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888884+8888888888888888888888888888888888888888888888888888888888888888888888888888888088888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888+8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888+88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888g0c8A8sYw8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888/8QAJBEBAQABBAEEAgMAAAAAAAAAAHEBESExYBAgMEFhUaBwkLD/2gAIAQMBAT8Q/RC4/tXJ3v6al5M2tj6HzbGcZ47jjdl4xYzXPDieeZ7ipnzh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"
        ,
        "iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII="
    ]
    // const {listingID, listOfImages} = JSON.parse(event.body);
    // const listOfImages = JSON.parse(event.body).images;
    if (!Array.isArray(listOfImages) || listOfImages.length === 0) {
        return {
            statusCode: 400,
            body: JSON.stringify({error: 'Invalid image list'}),
        };
    }

    const results = [];
    for (const image of listOfImages) {
        const imageBuffer = Buffer.from(image, 'base64');
        const key = `${uuid()}.jpeg`;
        const params = {
            Bucket: bucketName,
            Key: key,
            Body: imageBuffer,
        };

        const result = await s3.upload(params).promise();
        const addListingQuery = `INSERT INTO ListingImage (ListingID, S3ImagePath)
                             VALUES (${listingID}, "${result.Location}");`;

        const addImage = await new Promise((resolve, reject) => {
            connection.query(addListingQuery, function (err, res) {
                if (err) {
                    reject(err);
                }
                resolve(res);
            });
        });

        results.push(result);
    }

    return {
        statusCode: 200,
        body: JSON.stringify(results),
    };
};
